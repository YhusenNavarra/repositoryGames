<body style="padding:0px; margin:0px; background-color:#222; color:#ccc">

    <!-- the itch app messes with the first found canvas // from @ultrabrite's shell-->
    <canvas id="dummy4itchapp" style="position:absolute;visibility:hidden;width:0;height:0;"></canvas>
    <div style="max-width:800px; max-height:800px; margin:auto">

      <!-- optional div to limit size -->
      <div id="p8_frame" style="display:flex; width:100%; max-width:100vw; height:100vw; max-height:100vh; margin:auto;">
        <div id="menu_buttons_touch" style="position:absolute; width:100%; z-index:10; left:0px;">
          <div class="p8_menu_button" id="p8b_full" style="float: left; margin-left: 10px; display: none;" onclick="p8_request_fullscreen();"><img width="24" height="24" style="pointer-events:none" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAN0lEQVRIx2NgGPLg/8cX/2mJ6WcBrUJm4CwgOSgGrQVEB8WoBaMWDGMLhm5OHnql6dCt0YY8AAA9oZm+9Z9xQAAAAABJRU5ErkJggg=="></div>
          <div class="p8_menu_button" id="p8b_sound" style="float: left; margin-left: 10px; display: none;" onclick="p8_create_audio_context(); Module.pico8ToggleSound();"><img width="24" height="24" style="pointer-events:none" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAPUlEQVRIx2NgGDHg/8cX/5Hx0LEA3cChYwEugwhZQLQDqG4BsZFIKMhGLRi1YChbMPRz8vArTYdPjTboAQCSVgpXUWQAMAAAAABJRU5ErkJggg=="></div>
          <div class="p8_menu_button" id="p8b_close" style="float: right; margin-right: 10px; display: none;" onclick="p8_close_cart()"><img width="24" height="24" style="pointer-events:none" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAU0lEQVRIx2NkoDFgpJsF/z+++I8iwS9BkuW49A+cBcRaREgf/Swg1SJi1dHfAkIG4EyOOIJy4Cwg1iJCiWDUAvItGLqpaOjm5KFfmg79Gm3ItioAl+mAGVYIZUUAAAAASUVORK5CYII="></div>
        </div>
        <div id="p8_container" style="margin: auto; display: flex; width: 166px; height: 166px;" onclick="p8_create_audio_context(); p8_run_cart();">
          <div id="p8_start_button" class="p8_start_button" style="width:100%; height:100%; display:flex;">
            <img width="80" height="80" style="margin:auto;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABpklEQVR42u3au23DQBCEYUXOXIGKcujQXUgFuA0XIKgW90Q9oEAg+Ljd27vd2RsCf058gEDqhofPj+OB6SMCAQlIQAIyAhKQgARkBAQDnM6XSRsB7/2e/tSA0//12fCAKsQX3ntDA4oRFwBRIc0AixE38BAhTQGLEAsBUSDNAXcRhYDRIZsAPlp99VECRoXsDpgN0g0wC6Q7IDpkGEBUyG6A0+vKBtkdMBukG2AWSHdAdMgwgKiQ4QDRIMMCokCGB4wOCQPYFVKw2cABNocUjl6wgE0gFashPKAZpHJ2TQNYBVmxW6cDFENWDv9pAUshCVgJScBKSAISkD9hPkT4GkNAMdzepyj8Kye852EBLe51CZHHWQK4JcThD1SlcHPEYY/0a+A0n6SkGZV6w6WZNb3g4Id1b7hwgGhwYQBR4dwB0eHcALPAdQfMBhcOEA0uDCAqnDsgOpwbYBa4poA/31+rZYFrBriFpwGMCtcEcA9PAhgdzhywBK8EEQXOFFCCtwaIBmcGKMWbI6LCmQBq8R6hw5kAMgISkIAEJCAjIAEJSEBGQI9ukV7lRn9nD+gAAAAASUVORK5CYII=">
          </div>
          <div id="p8_playarea" style="display: none; margin-right: auto; margin-bottom: auto; margin-left: auto;">
            <div id="touch_controls_background" style=" pointer-events:none; display:none; background-color:#000;
						 position:fixed; top:0px; left:0px; border:0; width:100vw; height:100vh">
              &nbsp;
            </div>
            <div style="display:flex; position:relative">
              <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault();" style="width: 166px; height: 166px; margin-left: 0px; margin-top: 0px;"></canvas>
              <div id="menu_buttons" style="width: 0px; height: 164px; margin-top: 166px;">
                <div class="p8_menu_button" style="position: relative; left: 44px; display: none;" id="p8b_controls" onclick="Module.pico8ToggleControlMenu();"><img width="24" height="24" style="pointer-events:none" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAQ0lEQVRIx2NgGAXEgP8fX/ynBaap4XBLhqcF1IyfYWQBrZLz0LEAlzqqxQFVLcAmT3MLqJqTaW7B4CqLaF4fjIIBBwBL/B2vqtPVIwAAAABJRU5ErkJggg=="></div>
                <div class="p8_menu_button" style="position: relative; left: 44px; display: none;" id="p8b_pause" onclick="Module.pico8TogglePaused();"><img width="24" height="24" style="pointer-events:none" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAKUlEQVRIx2NgGHbg/8cX/7FhctWNWjBqwagFoxaMWjBqwagF5Fkw5AAAPaGZvsIUtXUAAAAASUVORK5CYII="></div>
                <div class="p8_menu_button" style="position: relative; left: 44px; display: none;" id="p8b_sound" onclick="p8_create_audio_context(); Module.pico8ToggleSound();"><img width="24" height="24" style="pointer-events:none" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAPUlEQVRIx2NgGDHg/8cX/5Hx0LEA3cChYwEugwhZQLQDqG4BsZFIKMhGLRi1YChbMPRz8vArTYdPjTboAQCSVgpXUWQAMAAAAABJRU5ErkJggg=="></div>
                <div class="p8_menu_button" style="position: relative; left: 44px; display: none;" id="p8b_full" onclick="p8_request_fullscreen();"><img width="24" height="24" style="pointer-events:none" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAN0lEQVRIx2NgGPLg/8cX/2mJ6WcBrUJm4CwgOSgGrQVEB8WoBaMWDGMLhm5OHnql6dCt0YY8AAA9oZm+9Z9xQAAAAABJRU5ErkJggg=="></div>
              </div>
            </div>

            <!-- display after first layout update -->
            <div id="touch_controls_gfx" style="pointer-events: none; display: none; position: fixed; top: 0px; left: 0px; border: 0px; width: 100vw; height: 100vh;">
              <img src="" id="controls_right_panel" style="position:absolute; opacity:0.5;">
              <img src="" id="controls_left_panel" style="position:absolute;  opacity:0.5;">
            </div>
 <!-- touch_controls_gfx -->
            <script type="text/javascript">
            </script>
          </div>

          <!--p8_playarea -->
        </div>
 <!-- p8_container -->
      </div>
 <!-- p8_frame -->
    </div>
 <!-- size limit -->
    <script type="text/javascript">
      p8_update_layout();
      p8_update_button_icons();
      var canvas = document.getElementById("canvas");
      Module = {};
      Module.canvas = canvas;
      // from @ultrabrite's shell: test if an AudioContext can be created outside of an event callback.
      // If it can't be created, then require pressing the start button to run the cartridge
      if (p8_autoplay) {
        var temp_context = new AudioContext();
        temp_context.onstatechange = function() {
          if (temp_context.state == 'running') {
            p8_run_cart();
            temp_context.close();
          }
        };
      }
    </script>

    <!-- uncomment this if you want clipboard access
	<textarea id="codo_textarea" class="emscripten" style="position:absolute; left:-9999px;"></textarea>	
-->
  
</body>